backtest:
  start_date: "2020-01-01"
  end_date: "2024-01-01"
  initial_capital: 1000000
  seed: 1337

  walk_forward:
    training_window: 252  # 1 year
    validation_window: 63  # 3 months
    step_size: 21  # 1 month

strategy:
  type: "momentum_reversion"
  params:
    lookback_period: 20
    entry_threshold: 2.0
    exit_threshold: 0.5
    stop_loss: 0.02
    take_profit: 0.05

  position_sizing:
    method: "kelly_fraction"
    max_position: 0.05  # 5% per position
    scale_factor: 0.25  # Conservative Kelly

risk:
  max_gross_exposure: 2.0  # 200%
  max_net_exposure: 0.4  # 40%
  max_positions: 20
  var_limit: 0.02  # 2% daily VaR

  sector_limits:
    technology: 0.3
    healthcare: 0.3
    financial: 0.3
    default: 0.2

execution:
  slippage_model: "linear_impact"
  commission: 0.00005  # 5 bps
  spread_cost: 0.0001  # 10 bps half-spread

  market_impact:
    alpha: 0.001  # Impact coefficient
    beta: 0.5  # Square-root model exponent

data:
  universe: "config/universe.csv"
  frequency: "1min"
  adjusted: true

  features:
    - returns_1d
    - returns_5d
    - volume_ratio
    - volatility_20d
    - rsi_14
    - order_flow_imbalance

output:
  save_trades: true
  save_positions: true
  save_metrics: true
  charts: true

  paths:
    results: "out/backtest_results.parquet"
    trades: "out/trades.csv"
    metrics: "out/metrics_summary.json"
    charts: "out/charts/"